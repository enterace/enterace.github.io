# DNS (Domain Name System)

DNS یک سیستم توزیع شده است که در اینترنت استفاده می‌شود تا نام‌های دامنه (Domain Names) را به آدرس‌های آی‌پی (IP Addresses) ترجمه کند و به برعکس. به طور ساده، DNS مانند یک دفترچه تلفن بزرگ است که نام یک وبسایت را به آدرس آی‌پی سرور متصل به آن ترجمه می‌کند و به کاربران اجازه می‌دهد با استفاده از نام به جای آدرس آی‌پی به وبسایت دسترسی پیدا کنند.

## نیاز به DNS 
ما به DNS نیاز داریم زیرا انسان‌ها عموماً به نام‌های دامنه به جای آدرس‌های آی‌پی حساس هستند. آدرس‌های آی‌پی می‌توانند بسیار طولانی و پیچیده باشند، اما نام‌های دامنه به شکل ساده‌تری قابل یادگیری و به خاطرسپاری هستند. همچنین، DNS به شبکه اجازه می‌دهد تا نام‌های دامنه را به طور موثری به آدرس‌های آی‌پی ترجمه کند و به کاربران امکان دسترسی به منابع شبکه را فراهم کند.

## مکانیزم کامل کاری DNS 

مکانیزم کامل کاری DNS شامل مراحل زیر است:

1. **دستور العمل کاربر**:
   - کاربر وبسایت مورد نظر را در مرورگر وارد می‌کند.

2. **استعلام DNS (DNS Query)**:
   - مرورگر کاربر یک استعلام DNS را به سرور DNS محلی ارسال می‌کند.

3. **جستجوی DNS (DNS Lookup)**:
   - سرور DNS محلی استعلام را دریافت و بررسی می‌کند.
   - اگر اطلاعات در کش سرور DNS محلی وجود داشته باشد، آدرس آی‌پی مربوطه را به صورت مستقیم ارائه می‌دهد.
   - اگر اطلاعات در کش سرور DNS محلی نبود، استعلام را به سرورهای DNS بالاتر در سلسله مراتب DNS منتقل می‌کند.

4. **پاسخ DNS (DNS Response)**:
   - سرور DNS بالاتر استعلام را دریافت و بررسی می‌کند.
   - اگر اطلاعات مورد نظر را در دست داشته باشد، پاسخ را به سرور DNS محلی ارسال می‌کند.
   - سرور DNS محلی پاسخ را دریافت و به مرورگر کاربر ارسال می‌کند.
   - مرورگر کاربر درخواست را با استفاده از آدرس آی‌پی دریافت شده به سرور مربوطه ارسال می‌کند.

## Domain
 
یک دامنه یا Domain، نام یک سایت یا سرویس میزبان شده در اینترنت است. به عنوان مثال، "example.com" یک دامنه است.

## Caching only DNS

Caching only DNS سروری است که فقط عملیات کش‌سازی (Caching) را برای سرویس DNS انجام می‌دهد. به عبارت دیگر، آن پاسخ‌های DNS را از سرورهای بالاتر در سلسله مراتب DNS دریافت کرده و در کش خود ذخیره می‌کند تا درخواست‌های آینده را پاسخ دهد.

## Zone در DNS

یک Zone یا منطقه، قسمتی از دامنه است که توسط یک سرور DNS مدیریت می‌شود. هر Zone شامل یک یا چند رکورد DNS است که اطلاعات مربوط به دامنه را شامل می‌شود.

## Record در DNS

یک Record یا رکورد، اطلاعات مربوط به یک دامنه در سیستم DNS است. هر رکورد شامل نوع (Type) و مقدار (Value) است. به عنوان مثال، رکورد A برای یک دامنه، آدرس آی‌پی متصل به آن را مشخص می‌کند.

## مهمترین رکوردهای DNS
 
برخی از مهمترین رکوردهای DNS عبارتند از:

1. **رکورد A**: متناظر با نام یک دامنه، آدرس آی‌پی متصل به آن را مشخص می‌کند.
2. **رکورد CNAME**: یک نام متداول یا نام مستعار برای یک دامنه را به نام واقعی آن متصل می‌کند.
3. **رکورد MX**: نشان می‌دهد که ایمیل‌های متعلق به یک دامنه باید به چه سرورهای پست الکترونیکی (Mail Servers) ارسال شوند.
4. **رکورد NS**: سرورهای نیم‌سرور (Name Servers) مورد استفاده برای یک دامنه را مشخص می‌کند.
5. **رکورد TXT**: اطلاعات متنی اضافی مانند امنیت و تنظیمات SPF را برای یک دامنه ارائه می‌دهد.

## Dynamic DNS 

Dynamic DNS به یک سرویس DNS اطلاق می‌شود که به میزبان‌ها (Hosts) اجازه می‌دهد تا آدرس آی‌پی خود را به صورت پویا به روز کنند. این سرویس معمولاً در شبکه‌هایی با آدرس‌دهی IP دینامیک مفید است، زیرا به میزبان‌ها این امکان را می‌دهد که به صورت خودکار آدرس آی‌پی جدید خود را به سرور DNS اعلام کنند.

## کاربرد فایل Hosts 

فایل Hosts یک فایل محلی در سیستم عامل است که نام‌های دامنه را به آدرس‌های آی‌پی متناظر ترجمه می‌کند. با استفاده از این فایل، می‌توان نام‌های دامنه را به صورت دستی تعریف کرده و به آدرس‌های آی‌پی محلی یا سایر آدرس‌ها متصل کرد. این فایل برای اولویت دهی دستورات DNS استفاده می‌شود و میزبانی محلی را تعیین می‌کند.

## ساختار سلسله مراتبی DNS
ساختار سلسله مراتبی DNS شامل سطوح مختلفی است که عبارتند از:

1. **Top Level Domain (TLD)**: در سطح بالاترین، TLD وجود دارد که دامنه‌های معروف مانند .com ، .org ، .net و غیره را شامل می‌شود.
2. **Second Level Domain**: در سطح بعدی، دامنه دوم مانند "example" در "example.com" قرار دارد.
3. **Third Level Domain**: در سطح سوم، دامنه سوم مانند "subdomain" در "subdomain.example.com" قرار دارد.

## FQDN 

FQDN یا Fully Qualified Domain Name، نام یک دامنه که به طور کامل تا سطح TLD مشخص شده است. به عبارت دیگر، FQDN شامل همه سطوح دامنه است و به صورت کامل مشخص می‌کند که یک دامنه به چه موجودیتی اشاره دارد. به عنوان مثال، "www.example.com" یک FQDN است.
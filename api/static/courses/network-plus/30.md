# Dynamic Routing

Dynamic routing در شبکه‌های کامپیوتری یک روش است که به روترها اجازه می‌دهد به صورت خودکار مسیریابی بین شبکه‌ها را انجام دهند. در مقابل، در روتینگ استاتیک، مسیرها به صورت دستی توسط مدیر شبکه تعریف می‌شوند.

وقتی از dynamic routing استفاده می‌شود، روترها با استفاده از پروتکل‌های مسیریابی خاصی اطلاعات مسیریابی را با هم تبادل می‌کنند. این اطلاعات شامل توپولوژی شبکه (شبکه‌ها، ساب‌نت‌ها، و ارتباطات بین آنها) و وضعیت شبکه (مثلاً زمانی که یک لینک در دسترس نیست) می‌شود.

## Dynamic Routing Protocol

Dynamic routing protocol یک پروتکل شبکه است که روترها را قادر می‌سازد اطلاعات مسیریابی را در شبکه‌ها تبادل کنند و مسیرهای مناسب برای هدایت بسته‌های داده را تعیین کنند. برخی از پروتکل‌های مسیریابی پویا شامل RIP (Routing Information Protocol)، OSPF (Open Shortest Path First)، IS-IS (Intermediate System to Intermediate System) و BGP (Border Gateway Protocol) هستند.

## Dynamic Learning

Dynamic learning در مسیریابی دینامیک به روترها اجازه می‌دهد تا اطلاعات مسیریابی را از سایر روترها یاد بگیرند و به روز رسانی کنند. وقتی یک روتر پیکربندی می‌شود، اطلاعات اولیه مسیریابی به طور خودکار از روترهای مجاور دریافت می‌شود و سپس روتر این اطلاعات را در جدول مسیریابی خود ذخیره می‌کند. همچنین، روترها از طریق پیام‌های مسیریابی مانند Hello packets یا Link State Advertisements اطلاعات خود را با روترهای دیگر به روز می‌کنند.

## Advertise Routing Table

Advertise routing table یعنی اطلاعات مسیریابی را به سایر روترها در شبکه اعلام کنید. هنگامی که یک روتر تغییری در جدول مسیریابی خود ایجاد می‌کند (مثلاً وقتی یک لینک قطع می‌شود یا یک شبکه جدید به شبکه‌ها اضافه می‌شود)، باید این تغییر را به دیگر روترها اطلاع دهد تا بتوانند به طور صحیح بسته‌ها را مسیریابی کنند. این اطلاعات معمولاً از طریق پیام‌های مسیریابیی مانند RIP Update یا OSPF Link State Advertisement ارسال می‌شود.

## Distance Vector

Distance vector یک الگوریتم مسیریابی در پروتکل‌های مسیریابی دینامیک است که بر اساس فاصله (distance) و جهت (vector) بهترین مسیر را تعیین می‌کند. در این الگوریتم، هر روتر فاصله و هدایت به هدف نهایی را به عنوان برداری (vector) به روترهای مجاور اعلام می‌کند. هر روتر دریافت کننده بردارهای همسایه را با بردارهای خود ترکیب می‌کند و برداری جدید را برای همسایگان خود اعلام می‌کند. این فرآیند ادامه می‌یابد تا همه روترها بهترین مسیر را برای هر مقصد محاسبه کنند.

## RIP

RIP (Routing Information Protocol) یک پروتکل مسیریابی دینامیک است که براساس الگوریتم distance vector عمل می‌کند. این پروتکل اطلاعات مسیریابی را در شبکه با استفاده از metric‌های هاپ‌کانت (hop-count) منتقل می‌کند. RIP محدودیت‌هایی در مقیاس بزرگتر شبکه دارد و برای شبکه‌های کوچک یا متوسط ​​معمولاً مناسب است.

## Link State

Link state در مسیریابی به معنی ارسال و دریافت اطلاعات مربوط به وضع

یت لینک‌ها (ارتباطات بین روترها) است. در پروتکل‌های مسیریابی مانند OSPF و IS-IS، هر روتر اطلاعات جامعی از وضعیت لینک‌های خود را در شبکه به همسایگان خود اعلام می‌کند. این اطلاعات شامل وضعیت لینک (مثلاً فعال یا غیرفعال بودن)، آدرس‌های IP متصل به لینک و هزینه لینک است. با جمع‌آوری اطلاعات لینک استیت از تمام روترها، روترها می‌توانند بهترین مسیرها را برای ارسال بسته‌ها تعیین کنند.

## OSPF

OSPF (Open Shortest Path First) یک پروتکل مسیریابی دینامیک است که بر اساس الگوریتم link state عمل می‌کند. OSPF برای شبکه‌های بزرگ و پیچیده مناسب است و از metric هزینه (cost) برای تعیین بهترین مسیر استفاده می‌کند. OSPF برای ارسال اطلاعات مسیریابی از پیام‌های Hello و Link State Advertisement (LSA) استفاده می‌کند.

## IS-IS

IS-IS (Intermediate System to Intermediate System) نیز مانند OSPF یک پروتکل مسیریابی دینامیک براساس الگوریتم link state است. این پروتکل به صورت عمده در شبکه‌های انترنتی و شبکه‌های نظامی استفاده می‌شود. IS-IS نیز از پیام‌های Hello و Link State PDUs (Protocol Data Units) برای ارسال اطلاعات مسیریابی استفاده می‌کند.

## Hybrid

Hybrid یک روش مسیریابی است که ویژگی‌های الگوریتم‌های distance vector و link state را ترکیب می‌کند. در این روش، روترها از distance vector جهت مسیریابی به سایر شبکه‌ها استفاده می‌کنند و در عین حال اطلاعات link state را برای به روز رسانی شبکه استفاده می‌کنند. یک مثال از پروتکل مسیریابی hybrid EIGRP است.

## EIGRP

EIGRP (Enhanced Interior Gateway Routing Protocol) نیز مانند Hybrid یک پروتکل مسیریابی است که ویژگی‌های distance vector و link state را ترکیب می‌کند. این پروتکل توسط سیسکو توسعه داده شده است و برای شبکه‌های سازمانی و بزرگ مناسب است. EIGRP از metric‌های پیشرفته‌تری نسبت به RIP برای تعیین بهترین مسیر استفاده می‌کند و از پیام‌های Hello و Update برای ارسال اطلاعات مسیریابی استفاده می‌کند.

## Path Vector

Path vector یک نوع پروتکل مسیریابی است که برای مسیریابی در اینترنت و ارتباطات بین دامنه‌ها استفاده می‌شود. پروتکل BGP (Border Gateway Protocol) یک مثال از پروتکل مسیریابی path vector است. در path vector، بردارهای مسیریابی شامل اطلاعات مربوط به دامنه‌های عبوری (AS‌ها) در مسیر بسته‌ها است. این اطلاعات شامل لیست AS‌هایی است که بسته برای رسیدن به مقصد عبور می‌کند و قوانین بیشتری برای انتخاب مسیرها وجود دارد.

## BGP

BGP (Border Gateway Protocol) یک پروتکل مسیریابی path vector است که برای مسیریابی بین دامنه‌ها (AS‌ها) در اینترنت استفاده می‌شود. BGP اطلاعات مسیریابی شامل بردارهای مسیریابی را با سایر BGP روترها در شبکه به اشتراک می‌گذارد. این اطلاعات شامل آدرس‌های IP و خصوصیات دیگر مربوط به دامنه‌ها (AS‌ها) است. BGP برای تعیین بهترین مسیرها از معیارهایی مانند طول مسیر (path length)، پرچم‌های BGP و قوانین سیاست استفاده می‌کند.

## زمان همگرایی

Convergence time به زمانی گفته می‌شود که یک شبکه به حالتی از تغییرات در مسیریابی برسد و همه روتره

ا به مسیریابی نهایی همگرا شوند. زمان همگرایی بر اساس سرعت روترها در دریافت و پردازش اطلاعات مسیریابی و همچنین ارسال اطلاعات به روترهای دیگر تعیین می‌شود. زمان همگرایی مهم است زیرا تا زمان همگرایی، مسیریابی ممکن است ناپایدار باشد و بسته‌ها ممکن است به مسیرهای ناصحیح هدایت شوند.

## تعریف Dynamic Route در روتر سیسکو

برای تعریف یک مسیریابی پویا در روتر سیسکو، از یک پروتکل مسیریابی مانند OSPF یا EIGRP استفاده می‌شود. در اینجا مراحل ساده‌ای برای تنظیم OSPF را توضیح می‌دهیم:

1. وارد حالت پیکربندی روتر شوید. این کار با دستور زیر انجام میشود.

```
configure terminal
```

2. برای OSPF، یک فضای مسیریابی (Routing domain) تعریف کنید. برای این کار از دستور زیر استفاده کنید 

```
router ospf <process-id>
```

process-id عددی است که برای شناسایی فضای مسیریابی OSPF استفاده می‌شود.

3. تعیین شناسه فضای مسیریابی (Router ID). این کار را با دستور زیر انجام میشود. 

```
router-id <router-id>
```

router-id یک شناسه 32 بیتی است که برای شناسایی روتر در فضای مسیریابی OSPF استفاده می‌شود.

4. تنظیم شبکه‌ها که در فضای مسیریابی OSPF شرکت می‌کنند. برای هر شبکه از دستور زیر استفاده کنید. 

```
network <network-address> <wildcard-mask> area <area-id>
```

network-address آدرس شبکه است که می‌خواهید در OSPF شرکت کند و wildcard-mask ماسک وایلدکارد مربوط به شبکه است. area-id یک شناسه است که به منطقه OSPF اختصاص داده می‌شود.

5. ذخیره کنید تا تغییرات پیکربندی اعمال شوند. این کار را با دستور `end` و سپس `write` انجام دهید. با انجام این مراحل، روتر شروع به تبادل اطلاعات مسیریابی OSPF با سایر روترها در شبکه می‌کند و دینامیکاً مسیرها را بر اساس این اطلاعات به روز می‌کند.
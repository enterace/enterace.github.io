# پروتکل Spanning Tree

**پروتکل Spanning Tree** یک پروتکل شبکه است که در شبکه‌های لایه 2 از مدل OSI استفاده می‌شود و برای جلوگیری از بروز حلقه‌ها در شبکه و برقراری توپولوژی درختی استفاده می‌شود. این پروتکل از الگوریتمی به نام الگوریتم Spanning Tree (STP) استفاده می‌کند تا درختی از تمامی دستگاه‌های سوییچ شبکه را ساخته و بروی ارتباطات بین آن‌ها کنترل ایجاد کند.

## Switch Operations

**Switch operations** عملیاتی است که توسط سوییچ‌ها در شبکه‌های لایه 2 انجام می‌شود. سوییچ‌ها دستگاه‌هایی هستند که بسته‌های شبکه را دریافت و آن‌ها را از یک پورت ورودی به پورت خروجی دیگر هدایت می‌کنند. عملیات سوییچ شامل تصمیم‌گیری درباره مسیریابی بسته‌ها، فراهم کردن جدول‌های آدرس MAC برای ارتباط با دستگاه‌های دیگر و انجام عملیات لایه 2 دیگر مانند Learning، Filtering و Forwarding است.

## Learning

**Learning** عملیاتی است که سوییچ برای یادگیری آدرس‌های MAC دستگاه‌ها در شبکه انجام می‌دهد. هنگامی که سوییچ یک بسته را دریافت می‌کند، آدرس MAC مبدأ آن را در جدول آدرس MAC خود ثبت می‌کند. این کار به سوییچ اجازه می‌دهد تا در آینده بسته‌ها را به دستگاه‌های مقصد درست هدایت کند.

## Filtering

**Filtering** عملیاتی است که سوییچ در حین عبور بسته‌ها از آن انجام می‌دهد. سوییچ بر اساس آدرس‌های MAC ذخیره شده در جدول خود، تصمیم می‌گیرد که بسته را به کدام پورت خروجی ارسال کند. در صورتی که آدرس MAC مقصد در جدول وجود داشته باشد، بسته را فقط به پورت مقصد ارسال می‌کند و در غیر اینصورت، بسته را به تمام پورت‌های خروجی می‌فرستد.

## Forwarding

**Forwarding** عملیات ارسال بسته‌ها به سمت پورت خروجی مناسب است. در این مرحله، سوییچ بسته را براساس جدول آدرس MAC خود به پورتی که با آدرس مقصد مطابقت دارد، هدایت می‌کند. بنابراین، بسته به صورت مستقیم به دستگاه مقصد ارسال می‌شود.

## Flooding

**Flooding** یک روش ارسال بسته در شبکه است که هنگامی که سوییچ اطلاعاتی در مورد آدرس MAC مقصد ندارد یا آدرس مقصد در جدول خود وجود ندارد، بسته را به تمام پورت‌های خروجی ارسال می‌کند. این عملیات برای جلوگیری از از دست رفتن بسته‌ها در شبکه به کار می‌رود و اطلاعات را به تمام دستگاه‌های متصل به شبکه ارسال می‌کند.

## 802.1D

**802.1D** یک استاندارد از پروتکل Spanning Tree برای شبکه‌های لایه 2 است. این استاندارد توسط IEEE (Institute of Electrical and Electronics Engineers) تعریف شده است. 802.1D از الگوریتم Spanning Tree (STP) استفاده می‌کند تا درختی از سوییچ‌ها را ساخته و حلقه‌های شبکه را از بین ببرد.

## 802.1W

**802.1W** یک توسعه بهبود یافته از استاندارد 802.1D است و با نام Rapid Spanning Tree Protocol (RSTP) نیز شناخته می‌شود. 802.1W سرعت بالاتری را در تشخیص تغییرات توپولوژی شبکه و بازسازی درخت Spanning Tree ارائه می‌دهد. ا

ین استاندارد از الگوریتمی به نام Rapid Spanning Tree Protocol (RSTP) برای سرعت بخشیدن به فرآیند پیکربندی درخت Spanning استفاده می‌کند.

## BPDU یا Bridge Protocol Data Unit

**BPDU** به عنوان Bridge Protocol Data Unit شناخته می‌شود و در پروتکل Spanning Tree استفاده می‌شود. BPDU اطلاعاتی است که بین سوییچ‌ها در شبکه منتقل می‌شود و شامل اطلاعاتی درباره توپولوژی شبکه، ریشه درخت Spanning و اطلاعات دیگر مربوط به پروتکل Spanning Tree است. BPDU ها برای محاسبه درخت Spanning Tree و جلوگیری از بروز حلقه در شبکه استفاده می‌شوند.